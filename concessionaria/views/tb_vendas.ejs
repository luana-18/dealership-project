<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gerenciar Vendas - Concessionária</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/style.css">
  </head>
  <body>
    <nav class="navbar navbar-expand-lg navbar-dark">
      <div class="container-fluid">
        <a class="navbar-brand" href="index.html">Concessionária</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav ms-auto">
            <li class="nav-item"><a class="nav-link" href="carros.html">Carros</a></li>
            <li class="nav-item"><a class="nav-link" href="clientes.html">Clientes</a></li>
            <li class="nav-item"><a class="nav-link" href="funcionarios.html">Funcionários</a></li>
            <li class="nav-item"><a class="nav-link" href="vendas.html">Vendas</a></li>
            <li class="nav-item"><a class="nav-link" href="pagamentos.html">Pagamentos</a></li>
            <li class="nav-item"><a class="nav-link" href="estoque.html">Estoque</a></li>
          </ul>
        </div>
      </div>
    </nav>

    <div class="container mt-5">
      <h1 class="text-center mb-4 text-primary">Gerenciar Vendas</h1>
      <a href="nova_venda.html" class="btn btn-primary mb-4">Adicionar Nova Venda</a>

      <!-- Tabela de Vendas -->
      <table class="table table-bordered table-striped table-hover">
        <thead class="table-dark">
          <tr>
            <th>ID Venda</th>
            <th>ID Carro</th>
            <th>ID Cliente</th>
            <th>ID Funcionário</th>
            <th>Data de Venda</th>
            <th>Valor Total</th>
            <th>Ano Carro</th>
            <th>Cor Carro</th>
            <th>Preço Carro</th>
            <th>Nome Modelo</th>
            <th>Marca Modelo</th>
            <th>Nome Cliente</th>
            <th>Nome Funcionário</th>
            <th>Ações</th>
          </tr>
        </thead>
        <tbody>
          <!-- Loop para popular a tabela com dados do banco -->
          <% for (let item of resultado) { %>
            <tr>
              <td><%= item.id_venda %></td>
              <td><%= item.id_carro %></td>
              <td><%= item.id_cliente %></td>
              <td><%= item.id_funcionario %></td>
              <td><%= item.data_venda %></td>
              <td><%= item.valor_total %></td>
              <td><%= item.Ano_carro %></td>
              <td><%= item.Cor_carro %></td>
              <td><%= item.Preço_carro %></td>
              <td><%= item.Nome_modelo %></td>
              <td><%= item.marca_modelo %></td>
              <td><%= item.Nome_cliente %></td>
              <td><%= item.Nome_funcionario %></td>
              <td>
                <a href="editar_venda.html?id=<%= item.id_venda %>" class="btn btn-warning btn-sm">Editar</a>
                <a href="excluir_venda.html?id=<%= item.id_venda %>" class="btn btn-danger btn-sm">Excluir</a>
              </td>
            </tr>
          <% } %>
        </tbody>
      </table>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
